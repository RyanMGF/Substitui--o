/* ==========================================================================
   1. CONCEITO "DASHBOARD MODERNO E LIMPO"
   ========================================================================== */
:root {
  /* Paleta de Cores: Moderna, Acessível, Clara */
  --cor-primaria: #4f46e5;         /* Indigo 600 - Um azul-violeta vibrante */
  --cor-primaria-hover: #4338ca;   /* Indigo 700 */
  --cor-acento-sucesso: #16a34a;   /* Green 600 */
  --cor-fundo: #f1f5f9;             /* Slate 100 - Fundo suave e acinzentado */
  --cor-surface: #ffffff;          /* Branco para cards e superfícies principais */
  --cor-texto-principal: #0f172a;  /* Slate 900 - Preto suave para alta legibilidade */
  --cor-texto-secundario: #64748b; /* Slate 500 */
  --cor-texto-terciario: #94a3b8;  /* Slate 400 */
  --cor-borda: #e2e8f0;             /* Slate 200 - Borda muito sutil */

  /* Tipografia */
  --fonte-titulos: 'Poppins', sans-serif;
  --fonte-corpo: 'Inter', sans-serif;

  /* Animações e Transições */
  --transicao-padrao: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

html.dark {
  /* Paleta de Cores para o Tema Escuro */
  --cor-primaria: #6366f1;         /* Indigo 500 - Mais brilhante no escuro */
  --cor-primaria-hover: #4f46e5;   /* Indigo 600 */
  --cor-acento-sucesso: #22c55e;   /* Green 500 */
  --cor-fundo: #0f172a;             /* Slate 900 - Fundo escuro */
  --cor-surface: #1e293b;          /* Slate 800 - Cor para cards */
  --cor-texto-principal: #f1f5f9;  /* Slate 100 - Texto claro */
  --cor-texto-secundario: #94a3b8; /* Slate 400 */
  --cor-texto-terciario: #64748b;  /* Slate 500 */
  --cor-borda: #334155;             /* Slate 700 - Borda sutil no escuro */
}



/* ==========================================================================
   2. ESTILOS BASE E ESTRUTURA
   ========================================================================== */
body {
  font-family: var(--fonte-corpo);
  background-color: var(--cor-fundo);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  color: var(--cor-texto-principal);
  min-height: 100vh;
}

h1, h2, h3, h4 {
  font-family: var(--fonte-titulos);
  font-weight: 600;
}

/* ==========================================================================
   3. COMPONENTES DE INTERFACE (UI)
   ========================================================================== */

/* Painel de Controle */
.bg-white\/70 {
  background-color: var(--cor-surface);
  backdrop-filter: none !important;
  border-radius: 1rem; /* 16px */
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
  border: 1px solid #f1f5f9; /* slate-100 */
}

/* Inputs e Seletores */
select, .multiselect-button {
  transition: var(--transicao-padrao);
  border-color: var(--cor-borda);
  border-radius: 0.5rem !important; /* 8px */
  background-color: var(--cor-surface);
}
select:focus, .multiselect-button:focus-within {
  --tw-ring-color: var(--cor-primaria);
  border-color: var(--cor-primaria);
  box-shadow: 0 0 0 2px var(--cor-primaria)30;
}

/* Botão Principal - Corporativo */
#find-substitute-btn {
  background-color: var(--cor-primaria);
  border-radius: 12px !important;
  padding-top: 0.75rem;
  padding-bottom: 0.75rem;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
  transition: all 0.15s ease-in-out;
}
#find-substitute-btn:hover {
  background-color: var(--cor-primaria-hover);
  box-shadow: 0 4px 12px -1px rgba(79, 70, 229, 0.3), 0 2px 8px -2px rgba(79, 70, 229, 0.2);
}
#find-substitute-btn:active {
  transform: translateY(-1px) scale(0.98);
  box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.05);
}

/* Estado de Foco */
button:focus-visible {
  outline: 2px solid var(--cor-primaria);
  outline-offset: 2px;
}

/* Cards de Resultado - Limpos e Informativos */
.card {
  border-left-width: 5px;
  background-color: var(--cor-surface);
  border-radius: 1rem !important; /* 16px */
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
  transition: var(--transicao-padrao);
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.07), 0 4px 6px -4px rgb(0 0 0 / 0.07);
  border-color: var(--cor-primaria);
}

/* Card de Sugestão */
.border-indigo-500 { border-color: var(--cor-primaria) !important; }

/* Card de Sucesso (Confirmado) */
.border-green-500 {
  border-color: var(--cor-acento-sucesso) !important;
  background-color: #f0fdf4cc; /* green-50 com transparência */
}

/* Card de Intervalo */
.border-yellow-400 { border-color: #facc15; }

/* Itens da lista de sugestões */
li[class*="hover:bg-slate-100"] > div > p.text-slate-500 {
  color: var(--cor-texto-secundario);
}

/* Botão de Confirmar */
.confirm-btn, .action-button {
  background-color: var(--cor-primaria);
  transition: var(--transicao-padrao);
  transform: scale(1);
}
.confirm-btn:hover, .action-button:hover {
  background-color: var(--cor-primaria-hover);
}
.confirm-btn:active {
  transform: scale(0.98);
}

/* Botão de Desfazer */
.undo-btn {
  transition: var(--transicao-padrao);
}
.undo-btn:hover, #reset-settings-btn:hover {
  text-decoration: underline;
  text-decoration-thickness: 2px;
}

/* ==========================================================================
   4. ANIMAÇÕES DE ENTRADA
   ========================================================================== */
@keyframes fadeIn-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.card-enter {
  animation: fadeIn-up 0.4s ease-out both;
}

.card-enter {
    transform: scale(0.98);
    animation: fadeIn-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) both;
}

/* Spinner de Carregamento */
.dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: var(--cor-primaria);
  animation: pulse 1.4s infinite ease-in-out both;
}

.dot-1 {
  animation-delay: -0.32s;
}

.dot-2 {
  animation-delay: -0.16s;
}

@keyframes pulse {
  0%, 80%, 100% {
    transform: scale(0);
  } 40% {
    transform: scale(1.0);
  }
}
/* ==========================================================================
   5. MODAL DE CONFIGURAÇÕES
   ========================================================================== */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }
@keyframes scaleIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
@keyframes scaleOut { from { transform: scale(1); opacity: 1; } to { transform: scale(0.95); opacity: 0; } }

#settings-modal.hidden { display: none; }

#settings-modal[aria-hidden="false"] #settings-overlay { animation: fadeIn 0.3s ease-out forwards; }
#settings-modal[aria-hidden="true"] #settings-overlay { animation: fadeOut 0.3s ease-in forwards; }

#settings-modal[aria-hidden="false"] > div > div:last-child { animation: scaleIn 0.3s ease-out forwards; }
#settings-modal[aria-hidden="true"] > div > div:last-child { animation: scaleOut 0.3s ease-in forwards; }

.interval-item {
    transition: var(--transicao-padrao);
}
.interval-item:hover {
    background-color: #f9fafb;
}

/* ==========================================================================
   6. MODAL DA GRADE HORÁRIA
   ========================================================================== */
#schedule-modal.hidden { display: none; }

#schedule-modal[aria-hidden="false"] #schedule-overlay { animation: fadeIn 0.3s ease-out forwards; }
#schedule-modal[aria-hidden="true"] #schedule-overlay { animation: fadeOut 0.3s ease-in forwards; }

#schedule-modal[aria-hidden="false"] > div > div:last-child { animation: scaleIn 0.3s ease-out forwards; }
#schedule-modal[aria-hidden="true"] > div > div:last-child { animation: scaleOut 0.3s ease-in forwards; }

.schedule-table {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed;
}
.schedule-table th, .schedule-table td {
    border: 1px solid var(--cor-borda);
    padding: 0.5rem;
    text-align: center;
    vertical-align: top;
}
.schedule-table th {
    background-color: #f9fafb;
    font-weight: 600;
}
.schedule-table td {
    min-width: 150px; /* Garante espaço mínimo em telas menores */
    height: 80px; /* Altura mínima para as células */
}

/* Estilo para o "mini-card" de cada professor na grade */
.schedule-entry {
    font-size: 0.8rem; /* 12.8px */
    line-height: 1.3;
    padding: 0.3rem;
    margin-bottom: 0.25rem;
    border-radius: 6px;
    text-align: left;
}
.schedule-entry strong {
    font-weight: 600;
    display: block;
}
.schedule-entry small {
    opacity: 0.8;
}

/* Estilo para o placeholder do input de busca */
#schedule-search-teacher::placeholder {
    color: #94a3b8; /* slate-400 */
}

/* ==========================================================================
   7. COMPONENTE MULTI-SELECT PERSONALIZADO
   ========================================================================== */
.multiselect-button {
    transition: var(--transicao-padrao);
    cursor: pointer;
}

.multiselect-button[aria-disabled="true"] {
    background-color: #f1f5f9; /* slate-100 */
    cursor: not-allowed;
}

.multiselect-button:not([aria-disabled="true"]):hover {
    border-color: var(--cor-primaria);
}

.multiselect-option {
    cursor: pointer;
    transition: background-color 0.15s ease-in-out;
}

.multiselect-option:hover {
    background-color: #f1f5f9; /* slate-100 */
}

.selected-teacher-tag {
    display: inline-flex;
    gap: 0.35rem;
    align-items: center;
    background-color: #eef2ff; /* indigo-100 */
    color: var(--cor-primaria);
    border-radius: 9999px;
    font-weight: 500;
    padding: 0.125rem 0.65rem; /* py-0.5 px-2.5 */
}

/* Badge "Melhor Opção" */
.best-option-badge {
    background-image: linear-gradient(to right, #4f46e5, #7c3aed);
    color: white;
    font-size: 0.65rem;
    text-transform: uppercase;
}

/* ==========================================================================
   8. TELA DE LOGIN E BOAS-VINDAS
   ========================================================================== */
@keyframes text-focus-in {
  0% {
    filter: blur(12px);
    opacity: 0;
  }
  100% {
    filter: blur(0px);
    opacity: 1;
  }
}

/* ==========================================================================
   9. MEDIA QUERIES PARA DISPOSITIVOS MÓVEIS (Mobile First)
   ========================================================================== */

/* Estilos para telas menores que 768px (ponto de quebra 'md' do Tailwind) */
@media (max-width: 768px) {
  /* Aumenta a fonte base para melhor legibilidade no mobile */
  body {
    font-size: 16px; /* Garante que a fonte não seja muito pequena */
    -webkit-text-size-adjust: 100%; /* Previne o zoom automático de fontes no iOS */
  }

  /* Ajusta o título principal para não ficar tão grande */
  h1 {
    font-size: 1.5rem; /* Equivalente a text-2xl */
  }

  /* Melhora o espaçamento do painel de controle */
  .bg-white\/70 {
    padding: 1rem; /* p-4 */
  }

  /* Garante que os cards de resultado empilhem bem */
  .card .flex-col.md\:flex-row {
    flex-direction: column;
  }

  /* Alinha os botões de ação à direita nos cards para fácil alcance */
  .card .flex.items-center.gap-3.mt-3 {
    justify-content: flex-end;
  }

  /* Faz com que os modais ocupem a tela inteira para melhor uso do espaço */
  #settings-modal .relative,
  #schedule-modal .relative {
    max-width: 100%;
    min-height: 100vh;
    margin: 0;
    border-radius: 0;
  }

  #settings-modal .flex.items-center.justify-center.min-h-screen,
  #schedule-modal .flex.items-center.justify-center.min-h-screen {
    padding: 0;
  }

  /* Ajusta o container da grade horária para ter um padding interno */
  #schedule-grid-container {
    padding: 0 0.5rem;
  }
}

/* ==========================================================================
   10. LOG DE ATIVIDADES
   ========================================================================== */
.activity-log-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem; /* 16px */
    padding: 0.75rem 0; /* 12px 0 */
    border-bottom: 1px solid var(--cor-borda);
}
.activity-log-item:last-child {
    border-bottom: none;
}
.activity-log-icon {
    flex-shrink: 0;
    width: 2.5rem; /* 40px */
    height: 2.5rem; /* 40px */
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
}
@keyframes text-blur-out {
  0% {
    filter: blur(0.01);
  }
  100% {
    filter: blur(12px) opacity(0%);
  }
}

#welcome-message {
    animation: text-focus-in 1s cubic-bezier(0.550, 0.085, 0.680, 0.530) both;
}